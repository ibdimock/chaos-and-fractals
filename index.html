<html>
<head>
	<meta charset="UTF-8">
	<link rel="stylesheet" type="text/css" href="gasket.css">
	<link rel="shortcut icon"
		href="gasket.ico" />
	<script src="gasket.js"></script>
	<script type="text/x-mathjax-config">
		MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});
	</script>
	<script type="text/javascript" src="jscolor/jscolor.js"></script>
	<script type="text/javascript"
		src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
	</script>
</head>
<body>
<br/>
	<h1>Apollonian Gasket</h1>
	<h2>Introduction</h2>
	<p>
	The <i>Apollonian Gasket</i> is a non-self-similar fractal named after Apollonius of Perga, a greek mathematician. 
	The construction of the fractal is very simple, and follows a simple iterative rule. 
	First we start with an exterial bounding circle: $C_4$. Inside $C_4$ we have three mutually tangent circles $C_1$, $C_2$, $C_3$.
	
	The iterative process is as follows:
	<ol>
		<li> Pick any three mutually tangent circles: $A$, $B$, $C$.
		<li> There exists a circle, $D$, internally tangent to $A$, $B$, and $C$.
		<li> Draw circle $D$.
		<li> Repeat for every triple of mutually tangent circles.
	</ol>
	The first iteration uses the 4 triples: $(C_1, C_2, C_3), (C_1, C_2, C_4), (C_1, C_3, C_4), (C_2, C_3, C_4)$. 
	The convergence of these iterations is the Apollonian Gasket for that specific starting configuration $(C_1, C_2, C_3, C_4)$.
	The construction of the gasket starts with 3 interior circles. The first iteration adds 4 additional circles. The second iterations adds 12 additional circles.
	In general on the $n^{th}$ iteration we add $4\cdot3^n$ circles. Summing this geometric series we can find that after $n$ iterations there are $2\cdot3^{n} + 1$ interior circles in total.
	</p>
	<h2>Applet</h2>
	<div id="canvas_cont">
		<canvas class="gasket_app" id="gasket" width="600px" height="600px">
		Your browser doesn't support canvas.
		</canvas>
	</div>
	<p class="param">
		<b>Depth: <output for="depth_slider" id="depth_out"></output></b>	
		<br/><input class="slider" type="range" id="depth_slider" max=20 min=1 step=1 oninput="drawGasket()" value=1/>
	</p>
	<p class="param">
		<b>Ratio - Radius $C_1$ : Radius $C_3$ - <output for="c1_slider" id="c1_out">1.00</output></b>
		<br/><input class="slider" type="range" id="c1_slider" max=25 min=0 step=1 oninput="updateRatios()" onmouseup="genGasket();drawGasket()" value=0/>
	</p>
	<p class="param">
		<b>Ratio - Radius $C_2$ : Radius $C_3$ - <output for="c2_slider" id="c2_out">1.00</output></b>
		<br/><input class="slider" type="range" id="c2_slider" max=25 min=0 step=1 oninput="updateRatios()" onmouseup="genGasket();drawGasket();" value=0/>
	</p>
	<p class="param">
		<b>Fill Colour: </b><input class="color" id="colour_picker" onchange="drawGasket()"></input>
	</p>
	<p class="param">
		<b>Show Label: </b><input type="checkbox" id="show_label" onclick="drawGasket()"></input>
	</p>
	<p class="instructions">
	<b>Instructions: </b> 
	<br/>Move the depth slider to control how many iterations of the Apollonian Gasket to display (this updates the image immediately).
	<br/>Move the ratio sliders to adjust the ratio between the radii of the 3 starting circles (this updates the image only once the ratios are set).
	</p>
	<h2>Descartes' Theorem</h2>
	<p>
	<img src="http://upload.wikimedia.org/wikipedia/commons/7/73/Frans_Hals_-_Portret_van_Ren%C3%A9_Descartes.jpg" alt="René Descartes" height="300px" style="float:right"></img>
	In 1643 René Descartes discovered a relationship between the ratios of the radii of four mutually tangent circles.
	To properly state the theorem we must first define curvature for circles.
	Curvature $k$ for a circle with radius $r$ is define simply as:
		<div class="eq">$k = \pm\frac{1}{r}$.</div>
	In our case, a circle with negative curvature indicates that all the other circles are interior to it. Thus only the bounding circle will have negative curvature.
	All of the other circles will have positive curvature. With curvature defined we can state Descartes' Theorem:
		<div class="thm">
		For four circles $C_1, C_2, C_3, C_4$ who are mutually tangent at 6 distinct points, with curvatures $k_1, k_2, k_3, k_4$, the curvatures must satisfy:
			<div class="eq">$(k_1 + k_2 + k_3 + k_4)^2 = 2(k_1^2 + k_2^2 + k_3^2 + k_4^2)$.</div>
		</div>
	Using this equation, and knowing the curvature of three mutually tangent circles, we can then solve for a fourth curvature, producing a circle mutually tangent to the initial three.
	We arrive at the formula:
		<div class="eq">$k_4 = k_1 + k_2 + k_3 \pm\sqrt{k_1k_2 + k_2k_3 + k_3k_1}$</div>
	We note again the presence of a $\pm$. The two solutions to this equation represent the circles interior and exterior to the circles $C_1, C_2, C_3$.
	This theorem gives a method to determine the curvature and therefore radius of the circles in our iterations.
	To determine the positions, we must look at a more generalized theorem.
	</p>
	<h2>Complex Descartes Theorem</h2>
	<p>
	The complex version of Descartes' Theorem gives a relationship between both the curvatures and positions of four mutually tangent circles.
	We define a complex value $z_j = x_j + iy_j$, where $(x_j,y_j)$ is the $j^{th}$ circles' position. With curvature $k_j$ defined as above, the Complex Descartes Theorem states:
		<div class="thm">Any four mutually tangent circles $C_1, C_2, C_3, C_4$ with curvatures $k_1, k_2, k_3, k_4$ and $z_1, z_2, z_3, z_4$ as defined above, must satisfy
			<div class="eq">$(k_1z_1 + k_2z_2 + k_3z_3 + k_4z_4)^2 = 2(k_1^2z_1^2 + k_2^2z_2^2 + k_3^2z_3^2 + k_4^2z_4^2)$.</div>
		</div>
	From the original version above we can solve for $k_4$ as before, and rearrange this formula to determine $z_4$ as follows:
		<div class="eq">$z_4 = \frac{k_1z_1 + k_2z_2 + k_3z_3 \pm2\sqrt{k_1k_2z_1z_2 + k_2k_3z_2z_3 + k_3k_1z_3z_1}}{k_4}$.</div>
	Again we have a $\pm$ producing two solutions. We must choose the appropriate one when constructing the Apollonian Gasket.
	</p>
	<h2>Dimension</h2>
	<p>
	There is no simple closed form for the dimension of the Apollonian gasket, but several bounds and estimations have been refined over the years.
	David W. Boyd gave bounds on the dimension in a 1973 paper. He showed that the dimension of the Apollonian Gasket, $\Lambda$, was bounded:
		<div class="eq">$1.300197 < dim(\Lambda) < 1.314534$</div>
	In 1997 Curtis T. McMullen developed an algorithm to accurately estimate the Hausdorff dimension of Kleinian groups, of which the Apollonian gasket is a limit set.
	He provided an estimate of the Hausdorff dimension of the Apollpnian gasket: $H. dim(\Lambda) = 1.305688$. This is in agreement with the result proved by Boyd.
	</p>
	<h2>Integer Apollonian Gaskets</h2>
	<p>
	There are special Apollonian Gaskets that have the property that all circles have integer curvature. In fact, we can show that if the original quadruple has integer curvatures,
	then the entire packing will have integer curvatures.
		<div class="thm">
			<i>Proof:</i>
			<br/>
			From Descartes Theorm we have:
				<div class="eq">$k_4 = k_1 + k_2 + k_3 + 2\sqrt{k_1k_2 + k_2k_3 + k_3k_1}$</div>
				<div class="eq">$k_4' = k_1 + k_2 + k_3 - 2\sqrt{k_1k_2 + k_2k_3 + k_3k_1}$</div>
			From this we have:
				<div class="eq">$k_4' = 2(k_1 + k_2 + k_3) - k_4$,</div>
			and so if we start with an integer quadruple $(k_1, k_2, k_3, k_4)$, then $k_4'$ will have integer curvature.
			<br/>
			Note: There will exists symmetric $k_1', k_2', k_3'$ with integer curvatures.
		</div>
	So by finding integer quadruples satisfying Descartes' theorem it is possible to construct integer gaskets.
	Some examples:
		<div class="eq">$(-1,2,2,3)$: $(-1 + 2 + 2 + 3)^2 = 2(1 + 4 + 4 + 9) = 36$.</div>
		<div class="eq">$(-3,5,8,8)$: $(-3 + 5 + 8 + 8)^2 = 2(9 + 25 + 64 + 64) = 324$.</div>
		<div class="eq">$(-6,11,14,15)$: $(-6 + 11 + 14 + 15)^2  = 2(36 + 121 + 196 + 225)= 1156$.</div>
	<div style="overflow:auto">
		<figure style="float:left">
			<img src="intD2.png" alt="Integer Apollonian Packing (-1,2,2,3)" height="250px">
			<figcaption>Integer Apollonian Packing (-1,2,2,3)</figcaption>
		</figure>
		<figure style="float:left">
			<img src="intD1.png" alt="Integer Apollonian Packing (-3,5,8,8)" height="250px">
			<figcaption>Integer Apollonian Packing (-3,5,8,8)</figcaption>
		</figure>
		<figure style="float:left">
			<img src="intC1.png" alt="Integer Apollonian Packing (-6,11,14,15)" height="250px">
			<figcaption>Integer Apollonian Packing (-6,11,14,15)</figcaption>
		</figure>
	</div>
	There is a convention used to classify symmetries within the integer gaskets. These symmetries can be summarized by looking only at the largest five circles.
	<ul>
		<li>$C_1$ symmetry: None of the first five circles have equal curvature. Eg. Gasket defined by curvatures $(−6, 11, 14, 15, 23)$.</li>
		<li>$D_1$ symmetry: Two of the first five circles have equal curvature. Eg. Gasket defined by curvatures $(−3, 5, 8, 8, 12)$.</li>
		<li>$D_2$ symmetry: Two pairs of circles within the first five have equal curvatures. Eg. Gasket defined by curvatures $(−1, 2, 2, 3, 3)$.</li>
		<li>$D_3$ symmetry: Three of the first five circles have equal curvature. No $D_3$ integer gaskets exist.
	</ul>
	It is easy to show that there are no $D_3$ gaskets, as their curvatures would need to satisfy $k_4 = 3k_1 + 2k_1\sqrt{3}$, and $\sqrt{3}$ is not integral.
	</p>
	<h2>References</h2>
	<h3>Mathematical Results</h3>
	<ol>
		<li>D.W. Boyd, <i>The Residual Dimension of the Apollonian Packing</i>, Mathematika 20, 170–174 (1973).</li>
		<li>R.L. Graham, J.C. Lagarias, C.L. Mallows, A.R. Wilks, and C.H. Yan, <i>Apollonian Circle Packings: Number Theory</i>, <a target="_blank" href="http://arxiv.org/abs/math/0009113">http://arxiv.org/abs/math/0009113</a> (2000).</li>
		<li>C.T McMullen, <i>Hausdorff dimension and conformal dynamics III: Computation of dimension</i>, <a target="_blank" href="http://abel.math.harvard.edu/~ctm/papers/home/text/papers/dimIII/dimIII.pdf">http://abel.math.harvard.edu/~ctm/papers/home/text/papers/dimIII/dimIII.pdf</a> (1997).</li>
	</ol>
	<h3>Web/Gui</h3>
	<ol>
		<li>NPM Complex Number JS Library: <a target="_blank" href="https://www.npmjs.org/package/Complex">https://www.npmjs.org/package/Complex</a></li>
		<li>JSColor Color Picker: <a target="_blank" href="http://jscolor.com/">http://jscolor.com/</a></li>
		<li>MathJax display engine: <a target="_blank" href="http://www.mathjax.org/">http://www.mathjax.org/</a></li>
		<li>René Descarte Image: <a target="_blank" href="http://upload.wikimedia.org/wikipedia/commons/7/73/Frans_Hals_-_Portret_van_Ren%C3%A9_Descartes.jpg">http://upload.wikimedia.org/wikipedia/commons/7/73/Frans_Hals_-_Portret_van_Ren%C3%A9_Descartes.jpg</a></li>
	</ol>
	<hr/>
</body>
<footer>
	<div style="float:right"><a href="mailto:ibdimock@uwaterloo.ca">Ian Dimock</a></div>
	<div>PMATH 370 - Chaos and Fractals - 2014</div>
</footer>
</html>